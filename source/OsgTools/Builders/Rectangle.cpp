
///////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2019, Perry L. Miller IV
//  All rights reserved.
//  MIT License: https://opensource.org/licenses/mit-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//  Class for building a rectangle.
//
///////////////////////////////////////////////////////////////////////////////

#include "OsgTools/Builders/Rectangle.h"
#include "OsgTools/Factory/Factory.h"

#include "osg/Geode"
#include "osg/Group"
#include "osg/Material"
#include "osg/PolygonMode"
#include "osg/ref_ptr"
#include "osg/ShapeDrawable"


namespace OsgTools {
namespace Builders {


///////////////////////////////////////////////////////////////////////////////
//
//  Constructors.
//
///////////////////////////////////////////////////////////////////////////////

Rectangle::Rectangle() : BaseClass(),
  _height ( 1.0 ),
  _width  ( 1.0 )
{
}
Rectangle::Rectangle ( const Options &options ) : BaseClass ( options ),
  _height ( Usul::Properties::get ( options, "height", 1.0 ) ),
  _width  ( Usul::Properties::get ( options, "width",  1.0 ) )
{
}
Rectangle::Rectangle ( const Options::Values &values ) : BaseClass ( values ),
  _height ( 1.0 ),
  _width  ( 1.0 )
{
  const Options options ( values );
  _height = Usul::Properties::get ( options, "height", _height );
  _width  = Usul::Properties::get ( options, "width",  _width );
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

Rectangle::~Rectangle()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Build a sphere.
//
///////////////////////////////////////////////////////////////////////////////

osg::Node *Rectangle::build()
{
  osg::ref_ptr < osg::Geode > geode ( OSG_TOOLS_FACTORY_CREATE ( osg::Geode ) );
  return geode.release();
}


///////////////////////////////////////////////////////////////////////////////
//
//  Build a sphere.
//
///////////////////////////////////////////////////////////////////////////////

osg::Node *Rectangle::build ( const Options &options )
{
  Rectangle builder ( options );
  return builder.build();
}
osg::Node *Rectangle::build ( const Options::Values &values )
{
  return Rectangle::build ( Options ( values ) );
}


///////////////////////////////////////////////////////////////////////////////
//
//  Set the height.
//
///////////////////////////////////////////////////////////////////////////////

void Rectangle::setHeight ( double height )
{
  _height = height;
}
void Rectangle::setHeight ( float height )
{
  _height = height;
}


///////////////////////////////////////////////////////////////////////////////
//
//  Set the width.
//
///////////////////////////////////////////////////////////////////////////////

void Rectangle::setWidth ( double width )
{
  _width = width;
}
void Rectangle::setWidth ( float width )
{
  _width = width;
}


} // namespace Builders
} // namespace OsgTools
